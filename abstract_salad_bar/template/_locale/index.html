<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:i18n="http://xml.zope.org/namespaces/i18n" i18n:source="en" i18n:domain="asb" tal:attributes="lang str(locale).replace('_', '-')">
<head>
  <meta charset="utf-8">
  <title>ASF</title>
</head>
<body>
  <!-- The navigation bar -->
  <nav uk-navbar="dropbar: true; dropbar-mode: push;" class="uk-navbar-container">
    <div clas="uk-navbar-left">
      <h1 class="uk-navbar-item uk-logo">Abstract Salad Factory</h1>
    </div>
    <div class="uk-navbar-right">
      <ul class="uk-navbar-nav">
        <li><a i18n:translate="" id="toCreate">New</a></li>
        <li>
          <a i18n:attributes="aria-label" aria-label="Change language"><i class="fa fa-flag-o fa-lg" aria-hidden="true"></i></a>
          <div id="changeLanguage" class="uk-navbar-dropdown" uk-drop="boundary: !.uk-nav-container; boundary-align: true; pos: bottom-justify; mode: click;">
            <ul class="uk-nav uk-navbar-dropdown-nav" tal:repeat="known_locale known_locales">
              <li tal:attributes="class 'uk-active' if known_locale == locale else None">
                <a tal:attributes="href string: /${str(known_locale).replace('_', '-')}"
                  tal:content="known_locale.get_display_name()"></a>
              </li>
            </ul>
          </div>
        </li>
        <li><a i18n:attributes="aria-label" aria-label="Help" id="toHelp">?</a></li>
      </ul>
    </div>
  </nav>

  <main class="uk-section-default">
  <div class="uk-container uk-container-small">
    <!-- The view to create a new salad.-->
    <div id="create" hidden>
      <h2 i18n:translate="" i18n:comment="hello">Create an Abstract Salad Factory!!!!!!!!!!!</h2>
      <form id="createSalad" action="/api/salads" method="post" class="uk-child-width-1-1" uk-grid>
        <input type="hidden" name="type" value="FoodEvent" />
        <input type="hidden" name="startDate" />
        <fieldset id="startDateInput" class="uk-fieldset uk-child-width-1-1 uk-child-width-1-3@m uk-flex-middle" uk-grid="margin: uk-margin-small-top">
          <div><div class="uk-flex-middle uk-child-width-expand uk-grid-collapse" uk-grid>
              <label for="when" class="uk-form-label asb-form-label uk-width-xs" i18n:translate="">When?</label>
              <div class="">
                <input type="date" name="when" value="" class="uk-input uk-form-blank saladStartDate" i18n:attributes="errormessage" list="datesList" errormessage="Invalid date." autofocus/>
                <datalist id="datesList">
                  <option id="today" i18n:translate="">Today</option>
                  <option id="tomorrow" i18n:translate="">Tomorrow</option>
                  <option id="nextWeek" i18n:translate="">next Week</option>
                  <option id="now" i18n:translate="">Now</option>
                </datalist>
              </div>
            </div></div>
            <div><div class="uk-flex-middle uk-child-width-expand uk-grid-collapse" uk-grid>
                <label for="at" class="uk-width-auto@m uk-width-xs asb-form-label uk-form-label" i18n:translate="">at</label>
                <div class="">
                  <input type="time" name="at" value="" class="uk-input uk-form-blank saladStartTime" list="timesList" i18n:attributes="errormessage" errormessage="Invalid time."/>
                  <datalist id="timesList">
                    <option id="same" i18n:translate="">Same time</option>
                  </datalist>
                </div>
              </div></div>
              <div>
                <div class="help-block  uk-text-danger uk-text-small" id="startDateInvalid" i18n:translate="" hidden>Invalid date!</div>
                <div class="help-block  uk-text-warning uk-text-small" id="startDatePast" i18n:translate="" hidden><span class="saladStartDate" i18n:name="date"></span> at <span class="saladStartTime" i18n:name="time"></span> is in the past!</div>
                <div class="help-block uk-text-muted uk-text-small" id="startDateCorrect" i18n:translate="">Salad starts <span class="saladStartDate" i18n:name="date"></span> at <span class="saladStartTime" i18n:name="time"></span>.</div>
              </div>
        </fieldset>
        <fieldset uk-grid="margin: uk-margin-small-top" class="uk-fieldset uk-flex-middle uk-child-width-expand">
            <label for="location" class="uk-form-label uk-width-xs asb-form-label" i18n:translate="">Where?</label>
            <div><input type="text" name="location" value="" class="uk-input uk-form-blank" i18n:attributes="placeholder" placeholder="Somewhere"/></div>
        </fieldset>
        <div>
          <button type=submit class="uk-button uk-button-default" i18n:translate="">Create!</button>
        </div>
      </form>
    </div>

    <!-- The salad view. -->
    <div id="salad" hidden>
      <h2 id=saladUrl" class="uk-card uk-card-body uk-card-title uk-card-primary uk-card-hover uk-text-center" i18n:translate="">Share salad with your friends: <br/><a class="uk-link-rest" i18n:name="url"></a></h2>
      <h3 id="saladLocation" i18n:translate=""></h3>
      <h3 i18n:translate="">Starts <span class="saladStartDate" i18n:name="date"></span> at <span class="saladStartTime" i18n:name="time"></span>.</h3>
      <div  id=ingredients>
        <form id="createIngredient" autocomplete=off method="post">
          <input type="hidden" name="type" value="Offer" />
        </form>
        <table class="uk-table uk-table-small">
          <caption class="uk-text-center" i18n:translate="">
            <h4 class="uk-margin-remove uk-text-uppercase uk-text-muted">Ingredients</h4>
          </caption>
          <thead>
            <tr>
              <th class=""><label form="createIngredient" for="name" i18n:translate="">What?</label></th>
              <th class=""><label form="createIngredient" for="seller" i18n:translate="">Who?</label></th>
              <th class="uk-table-shrink"></th>
            </tr>
          </thead>
          <tbody>
            <tr class="uk-background-muted">
              <td><input class="uk-input" form="createIngredient" type="text" name="name" value="" required autofocus/></td>
              <td><input class="uk-input" form="createIngredient" type="text" name="seller" value="" required/></td>
              <td><button class="uk-button uk-button-default uk-background" form="createIngredient" type="submit" i18n:translate="">+</button></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

  </div>
  </main>
  <footer>
  </footer>
</body>
<script type="text/javascript">window.onload = loadApp</script>
<script type="text/javascript" tal:content="string: var known_locales = ${json_known_locales}">var known_locales = {}</script>
</html>
